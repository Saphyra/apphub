spring:
  application:
    name: main-gateway
  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
  cloud:
    gateway:
      routes:
        #RESOURCES
        - id: common-resorces
          uri: http://web-content:8080
          predicates:
            - Path=/res/common/**
        - id: user-resorces
          uri: http://user:8080
          predicates:
            - Path=/res/user/**
        - id: notebook-resorces
          uri: http://notebook:8080
          predicates:
            - Path=/res/notebook/**
        - id: modules-resorces
          uri: http://modules:8080
          predicates:
            - Path=/res/modules/**
        - id: admin-panel-resorces
          uri: http://admin-panel:8080
          predicates:
            - Path=/res/admin-panel/**
        - id: utils-resorces
          uri: http://utils:8080
          predicates:
            - Path=/res/utils/**
        - id: skyxplore-resorces
          uri: http://skyxplore-data:8080
          predicates:
            - Path=/res/skyxplore/**
        - id: training-resorces
          uri: http://training:8080
          predicates:
            - Path=/res/training/**
        - id: community-resorces
          uri: http://community:8080
          predicates:
            - Path=/res/community/**
        - id: diary-resorces
          uri: http://diary:8080
          predicates:
            - Path=/res/diary/**

        #PAGES
        - id: error-page
          uri: http://web-content:8080
          predicates:
            - Path=/web/error
        - id: index-page
          uri: http://user:8080
          predicates:
            - Path=/web
        - id: notebook-page
          uri: http://notebook:8080
          predicates:
            - Path=/web/notebook
        - id: account-page
          uri: http://user:8080
          predicates:
            - Path=/web/user/account
        - id: modules-page
          uri: http://modules:8080
          predicates:
            - Path=/web/modules
        - id: admin-panel-pages
          uri: http://admin-panel:8080
          predicates:
            - Path=/web/admin-panel/**
        - id: utils-pages
          uri: http://utils:8080
          predicates:
            - Path=/web/utils/**
        - id: skyxplore-pages
          uri: http://skyxplore-data:8080
          predicates:
            - Path=/web/skyxplore/**
        - id: training-pages
          uri: http://training:8080
          predicates:
            - Path=/web/training/**
        - id: community-page
          uri: http://community:8080
          predicates:
            - Path=/web/community
        - id: diary-page
          uri: http://diary:8080
          predicates:
            - Path=/web/diary

        #MODULES
        - id: user
          uri: http://user:8080
          predicates:
            - Path=/api/user/**
        - id: notebook
          uri: http://notebook:8080
          predicates:
            - Path=/api/notebook/**
        - id: admin-panel
          uri: http://admin-panel:8080
          predicates:
            - Path=/api/admin-panel/**
        - id: modules
          uri: http://modules:8080
          predicates:
            - Path=/api/modules/**
        - id: utils
          uri: http://utils:8080
          predicates:
            - Path=/api/utils/**
        - id: skyxplore-data
          uri: http://skyxplore-data:8080
          predicates:
            - Path=/api/skyxplore/data/**
        - id: skyxplore-lobby
          uri: http://skyxplore-lobby:8080
          predicates:
            - Path=/api/skyxplore/lobby/**
        - id: skyxplore-game
          uri: http://skyxplore-game:8080
          predicates:
            - Path=/api/skyxplore/game/**
        - id: training
          uri: http://training:8080
          predicates:
            - Path=/api/training/**
        - id: community
          uri: http://community:8080
          predicates:
            - Path=/api/community/**
        - id: diary
          uri: http://diary:8080
          predicates:
            - Path=/api/diary/**

        #PLATFORM
        - id: localization
          uri: http://localization:8080
          predicates:
            - Path=/localization/**

        #WS
        - id: ws
          uri: ws://message-sender:8080
          predicates:
            - Path=/api/message-sender/**

nonSessionExtendingUris:
  - pattern: /api/user/authentication/session
    method: GET