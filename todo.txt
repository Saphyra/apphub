
TODO periodically merge StoredResources with the same parameters (containerId, dataId, allocatedBy)
TODO periodically delete StoredResources with 0 amount
TODO periodically move unallocated resources to storage

"I want to build something" -> Construction/Terraformation and corresponding process are created
    Create ReservedStorage at the destination (containerId = surfaceId/constructionAreaId)
    processStatus = CREATED
        Create ResourceRequestProcess (for each resource needed)
            Store reservedStorageId
        processStatus -> IN_PROGRESS
        Waiting for resources to be delivered (ReservedStorage.amount == 0)
        Create WorkTask
        Wait until WorkTask is finished
        Complete construction
        Cleanup
    ResourceRequestProcess
        Runs each tick
        Tracks requested resources
        Tracks deliveries
        If resource is lost (e.g. transport shot down), orders again.
        This repeated run makes sure if a requested resource reaches the depot, it gets redirected to the most important consumer immediately (even if that is not the one requested it originally)
        Check if there is enough resource in the depots / Producers
            Yes:
                Create BillOfFreight
                Allocate resource to be transported
                BillOfFreight tracks
                    storedResourceId to be picked up (reference to source containerId)
                    reservedStorageId where to drop (reference to target containerId)
                Create BillOfFreightProcess
            No:
                Reserve storage for missing resources
                Create ProductionRequestProcess
        Wait until ResourceRequest is filled
    ProductionRequestProcess
        Runs each tick
        Distributes production between producers
            ProductionOrderProcess
        Waits until all the resources are produced
    ProductionOrderProcess
        Produces resource
    Lowest priority TickTask
        Looks for unallocated resources in producers, creates BillOfFreight processes to deliver them to depots